; Configuration file for Osmium

; DO NOT EDIT THIS FILE DIRECTLY. COPY IT TO config.ini AND EDIT THIS
; FILE INSTEAD.

[osmium]

; On: some privileges have lowered requirements to make it for the
; young community.
; Off: the community is big and has plenty of users with lots of
; reputation, use the full requirements for privileges.
bootstrap_mode=On

; Set to /path/ if accessing Osmium through
; http://example.org/path/. Should include a leading and trailing
; slash.
relative_path="/"

; The main host used to access Osmium. May include a port (like
; host:port), but no path or protocol. Only used when the Host header
; is unavailable (like in CLI scripts) or when it's not safe to use it
; (auth-related).
host="o.smium.org"
;host="127.0.0.1:8080"

; Number of comments per page on the view loadout page
comments_per_page=10

; On: non-fatal errors are not fatal (recommended for production).
; Off: any error will trigger a blue page of death error and
; immediately interrupt the script execution.
tolerate_errors=On

; Whether to treat X-Forwarded-For as the real client IP. Set to On
; ONLY if you use a reverse proxy like Varnish or Pound that correctly
; sets this header.
trust_x_forwarded_for=Off

; Whether to use X-Forwarded-Proto to check for HTTPS. Set to On ONLY
; if you have a reverse proxy like Pound that can correctly set this
; header (must contain "https" iff HTTPS is used).
trust_x_forwarded_proto=Off

; Secret string to use for munging external URIs in comments and
; such. Set it up once with some random data at install time and try
; not to change it later. If you do change it later, run
; `make reformat-editable-formatted-contents`.
;
; Use something like `head -c 1k /dev/urandom | sha1sum` to generate a
; random seed.
uri_munge_secret="~~~~~ SOMETHING RANDOM HERE ~~~~~"

; Whether to treat X-Forwarded-For as the real client IP. Set to On
; ONLY if you use a reverse proxy like Varnish or Pound that correctly
; sets this header.
trust_x_forwarded_for=Off

; Whether to use X-Forwarded-Proto to check for HTTPS. Set to On ONLY
; if you have a reverse proxy like Pound that can correctly set this
; header (must contain "https" iff HTTPS is used).
trust_x_forwarded_proto=Off

[postgresql]

pg_host="127.0.0.1"
pg_port="5432"
pg_user="osmium"
pg_password="osmium"
pg_dbname="osmium"

[sphinx]

; Where to store sphinx indexes (no trailing /)
sphinx_data="@@osmium_root@@/sphinx"

; Where to store sphinx logs (no trailing /)
sphinx_log="@@osmium_root@@/sphinx"

; Where to store sphinx.pid (no trailing /)
sphinx_run="@@osmium_root@@/sphinx"

; Default settings for Debian FHS compliance
;sphinx_data="/var/lib/sphinxsearch/data"
;sphinx_log="/var/log/sphinxsearch"
;sphinx_run="/var/run/sphinxsearch"

[branding]

; Used in <title>s and in the main page
name="Osmium"

; Used in the <title> of the main page
description="a browser-based fitting tool and loadout sharing platform"

; Relative URI from static/, or absolute URI (must start with // in case of an absolute URI)
favicon="favicon.png"

; Add ways to contact you, the system administrator. This will be
; displayed on the "About" page. Will be Markdown processed.
contact="* By email: <osmium-contact@example.org>"

; Typically your email adress that will be used in the User-agent for
; API calls and other various calls. Hopefully if Osmium causes bad
; things you will be contacted first rather than just IP banned.
uacontact="osmium-contact@example.org"

; Where to get the source of your Osmium instance? This will be
; displayed on the "About" page. If you fork the project, or run
; custom code, you MUST change this so the user can access the same
; source code that runs the instance!
source="https://github.com/Artefact2/osmium/"

[minifier]

minify_js=Off ; Turn to On if you have a working Javascript minifier

;; The minify_command will be run when Javascript needs to be
;; minified. It needs to read code from STDIN and output the minified
;; code to STDOUT. Here are some examples below:
;minify_command=

minify_command=cat
;minify_command=uglifyjs -mc -
;minify_command=java -jar /path/to/compiler.jar

[https]

; Set to On if you have working HTTPS. All the options below in this
; section have no effect if this is set to Off.
https_available=Off

; Set to On to send a Strict-Transport-Security header
; See: https://developer.mozilla.org/en-US/docs/Security/HTTP_Strict_Transport_Security
use_hsts=Off

; Set to a UNIX timestamp matching the expiration date of your certificate.
; You can get it by running the command below (adjust the date):
; php -r "var_dump(strtotime('2014-04-24'));"
https_cert_expiration=0

; If set to On, links to login/registration will use HTTPS.
prefer_secure_login=On

; On: tell search engines to prefer indexing https:// pages
; Off: tell search engines to prefer indexing http:// pages
https_canonical=On

[tags]

min_tags=0 ; Minimum number of tags
max_tags=8 ; Maximum number of tags

; Feel free to expand the list below. Changes to this list will only
; apply on newly created loadouts. If you want to retroactively
; replace tags by their alias, run ./bin/alias_tags_retroactive.
aliases[brawler] = "short-range"
aliases[shield] = "shield-tank"
aliases[armor] = "armor-tank"
aliases[buffer] = "buffer-tank"

[sysv]

; Create SysV semaphores with IDs starting from this value, to
; sem_rtart+num_sems. Change this if something else is using this
; range of SysV semaphores, or if you intend to run multiple Osmium
; instances on the same machine.
sem_start=2801205248 ; 0xA6F70000

; Maximum number of semaphores to create. Must be lower than "max
; number of arrays" returned by `ipcs -sl` (and leave enough room for
; other programs). Use a prime number if possible.
num_sems=83

[auth]

; On: anonymous users can navigate through the site, see public loadouts, etc.
; Off: anonymous users must make an account and log in before doing anything.
;
; NOTE: setting this to Off will implicitely make all pages non
; crawlable by robots.
anonymous_access=On

; On: people can register accounts accounts.
; Off: people cannot register new accounts, but can log in to
; already-existing accounts.
registration_enabled=On

; Off: anyone can access the site.
; On: only registered people satisfying any of the criteria below can
; access the site.
whitelist=Off

; The criteria below are inclusive. If /any/ criteria is met, then
; access will be allowed.
;
; NOTE: has no effect if whitelist is not On.
;
; NOTE: when you change the whitelist, it's a good idea to run `make
; clear-sessions` to force everyone to re-authenticate against the new
; whitelist.

; Add a list of alliance, corporation or character IDs to the
; whitelist. Anyone in the specified corporation/alliance, or any
; character in this list will be able to make an account and use the
; site.

;whitelisted_ids[] = 1
;whitelisted_ids[] = 2

; Add a list of corporation and alliance contacts to the
; whitelist. The syntax is:
;
; <key-id>:<verification-code>:<standing-threshold>
;
; Will use the corporation of the first character available on the API
; key. Make sure it has ContactList access.
;
; EXAMPLE: 1234:foobarbaz:0.01 will add contacts with a standing of at
; least 0.01 to the whitelist.
;
; NOTE: try not to overuse this, as each contact list will be fetched
; at every login or registration attempt.

;corp_contactlist[] = "1234:bar:5.01"
;corp_contactlist[] = "5678:baz:0.01"
;etc…

; Add a list of personal contacts to the whitelist. Same usage as
; corp_contactlist.

;char_contactlist[] = "1234:foo:0.01"
;char_contactlist[] = "7890:baz:10.0"
;etc…

[ccp_oauth]

; Whether to use CCP's Single Sign On service for this Osmium instance or not.
;
; The callback URL is assumed to be:
; https://host/relative_path/internal/auth/ccpoauthcallback, where host and
; relative_path match the settings above.
;
; NOTE: Please make sure the required scopes for reading and writing fittings are enabled or CREST import fittings wont work.
;
; NOTE: WILL NOT WORK UNLESS YOU HAVE BOTH https_available AND
; https_canonical ENABLED.
;
; BE CAREFUL: BY TURNING THIS ON, YOU ARE IMPLICITELY SIGNING THE CCP
; DEVELOPER LICENSE AGREEMENT. YOU CAN FIND A COPY OF IT AT
; http://cdn1.eveonline.com/community/forums/EVE/Developer_License_Agreement_2014_05_26.doc
; (POSSIBLY OUTDATED VERSION). YOU HAVE BEEN WARNED.
ccp_oauth_available=Off

; Switch between TQ/Sisi implementation
;ccp_oauth_root="https://sisilogin.testeveonline.com"
ccp_oauth_root="https://login.eveonline.com"

; Crest URL
ccp_oauth_crest="https://crest-tq.eveonline.com"

; Given to you by CCP.
ccp_oauth_clientid=""
ccp_oauth_secret=""

[eve_kill]

; Use Eve-Kill data to display flavors of the week and popular
; alliance doctrines on the homepage.
enable_eve_kill=Off

eve_kill_stomp_id=osmium
eve_kill_stomp_uri=tcp://eve-kill.net:61613
eve_kill_stomp_user=guest
eve_kill_stomp_pass=guest
